<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Case Clicker{% endblock %}</title>
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='media/logo.png') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="preload" href="{{ url_for('static', filename='media/cases/weapon_case_1.png') }}" as="image">
    <link rel="preload" href="{{ url_for('static', filename='media/cases/esports_2013_case.png') }}" as="image">
    <style>
    .confetti-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 9999;
    }

    .level-up-banner {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: linear-gradient(135deg, #ffd700, #ffa500);
        padding: 20px 40px;
        border-radius: 10px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        z-index: 10000;
        animation: bannerFade 3s ease-in-out forwards;
        text-align: center;
    }

    .level-up-banner h2 {
        margin: 0;
        color: #fff;
        font-size: 32px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
    }

    @keyframes bannerFade {
        0% { opacity: 0; transform: translate(-50%, -40%); }
        10% { opacity: 1; transform: translate(-50%, -50%); }
        80% { opacity: 1; transform: translate(-50%, -50%); }
        100% { opacity: 0; transform: translate(-50%, -60%); }
    }

    .confetti {
        position: absolute;
        width: 10px;
        height: 10px;
        background-color: #ffd700;
        opacity: 0;
    }

    @keyframes confettiFall {
        0% { transform: translateY(-100%) rotate(0deg); opacity: 1; }
        100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
    }

    .balance, .current-rank, .exp-info {
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }

    .nav-link {
        position: relative;
        transition: color 0.3s ease;
    }

    .nav-link.active {
        color: #ffd700;
    }

    .nav-link.active::after {
        content: '';
        position: absolute;
        bottom: -2px;
        left: 0;
        width: 100%;
        height: 2px;
        background-color: #ffd700;
        animation: slideIn 0.3s ease-out forwards;
    }

    @keyframes slideIn {
        from {
            transform: scaleX(0);
        }
        to {
            transform: scaleX(1);
        }
    }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-links">
                <a href="{{ url_for('index') }}" class="nav-link {{ 'active' if request.endpoint == 'index' }}">Home</a>
                <a href="{{ url_for('shop') }}" class="nav-link {{ 'active' if request.endpoint == 'shop' }}">Shop</a>
                <div class="rank-progress">
                    <div class="rank-info">
                        <span class="current-rank" data-rank="{{ rank }}">{{ RANKS[rank] }}</span>
                        <div class="progress-bar">
                            {% if rank < 17 %}
                                <div class="progress-fill" style='width: {{ (exp / RANK_EXP[rank] * 100)|round(2) }}%'></div>
                            {% else %}
                                <div class="progress-fill" style="width: 100%"></div>
                            {% endif %}
                        </div>
                        <span class="exp-info">
                            {% if rank < 17 %}
                                {{ exp|int }}/{{ RANK_EXP[rank] }} EXP
                            {% else %}
                                MAX RANK
                            {% endif %}
                        </span>
                    </div>
                </div>
                <a href="{{ url_for('inventory') }}" class="nav-link {{ 'active' if request.endpoint == 'inventory' }}">Inventory</a>
                <a href="{{ url_for('clicker') }}" class="nav-link {{ 'active' if request.endpoint == 'clicker' }}">Clicker</a>
                <a href="{{ url_for('upgrades') }}" class="nav-link {{ 'active' if request.endpoint == 'upgrades' }}">Upgrades</a>
                <a href="{{ url_for('casino') }}" class="nav-link {{ 'active' if request.endpoint == 'casino' }}">Casino</a>
                <a href="{{ url_for('trading') }}" class="nav-link {{ 'active' if request.endpoint == 'trading' }}">Trading</a>
                <a href="{{ url_for('achievements') }}" class="nav-link {{ 'active' if request.endpoint == 'achievements' }}">Achievements</a>
            </div>
            <div class="balance">Balance: $<span id="balance">{{ "%.2f"|format(balance) }}</span></div>
        </div>
    </nav>

    <div class="container">
        {% block content %}{% endblock %}
    </div>

    <div class="watermark">
        <span>Made by Ole Kristian Westby</span>
    </div>

    <script src="{{ url_for('static', filename='js/auto_clicker.js') }}"></script>
    {% block scripts %}{% endblock %}
</body>
</html> 